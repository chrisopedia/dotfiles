[alias]
	# https://git.wiki.kernel.org/articles/a/l/i/Aliases.html

	# `git remote prune origin`: remove remote-tracking branches that were deleted from the remote repo
	# `git gc`: cleanup unnecessary files and optimize the local repository
	# `git clean -df`: remove untracked files and directories from the working tree
	# `git stash clear`: remove all stashed states
	trim = !git remote prune origin && git gc
	cleanup = !git clean -df && git stash clear
	undo = !git reset --soft HEAD^

	# Show the diff of everything you haven't pushed yet
	unpushed = !git diff origin/$(git rev-parse --abbrev-ref HEAD)..HEAD'

	# Add untracked, remove deleted, and show status
	adda = !git add -A && git status

	# Sets git branch default to list verbosely
	branch = !git branch --list -v

	# Sets git remote default to list verbosely
	remote = !git remote -v

	# Fetch a repository ($1) and checkout its ref ($2) HEAD
	# Use: `git browse https://github.com/necolas/dotfiles <commit-ish>`
	browse = !bash -c 'git fetch $1 ${2:-HEAD} && git checkout FETCH_HEAD' -

	ctags = "!bash -c '[ -f .git/hooks/ctags ] || git init; .git/hooks/ctags' git-ctags"

	# Helpers for branching
	create-branch = !bash -c 'git push origin head:refs/heads/$1 && git fetch origin && git branch --track $1 origin/$1 && cd . && git checkout $1' -
	delete-branch = !bash -c 'git push origin :refs/heads/$1 && git branch -d $1' -
	merge-branch = !git checkout master && git merge @{-1}

	# Diff what is staged for the next commit
	diffc = diff --cached
	# Diff overview
	diffst = diff --stat

	# Custom graph log (append any tree-ish)
	graph = log --pretty=nice --date-order --graph
	# Custom graph log for all branches
	grapha = log --pretty=nice --date-order --graph --all

	# Custom pretty log
	logp = log --pretty=nice --date-order

	# Diffstat log
	logst = log --stat
	# Short format diffstat log
	logsf = log --stat --format=oneline --abbrev-commit

	# Fetch and checkout a GitHub Pull Request from a remote (defaults to `origin`)
	# https://gist.github.com/gnarf/5406589
	# @TODO: better served as a bash function in the form of `git-pr`, thus allowing it
	# to be run as git pr 123
	# Use: `git pr 123` or `git pr 123 upstream`
	pr = !bash -c 'git fetch -fu ${2:-origin} refs/pull/$1/head:gh-pr/$1 && git checkout gh-pr/$1' -

	# Find out who is currently active on the repository
	# Displays committers in descending order of number of commits
	who = shortlog --numbered --summary --email --no-merges --since="3 months"

	# sets up a quick git server
	# touch .git/git-daemon-export-ok  
	# $ git serve
	serve = daemon --reuseaddr --verbose  --base-path=. --export-all ./.git

[apply]
	whitespace = nowarn

[branch]
	autosetupmerge = true
	# configure git to always add '--rebase' to git pull, to maintain nicer history
	# read more at http://gitready.com/advanced/2009/02/11/pull-with-rebase.html
	# you can override this with '--no-rebase' switch
	autosetuprebase = always

[color]
	# color opts: normal, black, red, green, yellow, blue, magenta, cyan, or white
	ui = auto
	interactive = auto
	showbranch = auto

[color "branch"]
	current = magenta ul bold reverse
	local = magenta dim
	remote = blue
	upstream = blue dim
	plain = white

[color "diff"]
	meta = yellow bold
	frag = cyan bold
	old = red bold
	new = green bold
	whitespace = yellow reverse
	commit = green ul bold

[color "status"]
	added = green
	changed = yellow
	untracked = red
	branch = magenta
	nobranch = red bold

[commit]
	# custom commit message template
	template = ~/.gitmessage

[core]
	# Use custom `.gitignore` and `.gitattributes`
	excludesfile = ~/.gitignore
	# attributesfile = ~/.gitattributes
	# http://git-scm.com/docs/gitattributes#_end_of_line_conversion
	# Other source code management systems normalize all text files in their 
	# repositories, and there are two ways to enable similar automatic 
	# normalization in Git.
	#
	# If you want to have CRLF line endings in your working directory 
	# regardless of the repository you are working with, you can set the 
	# config variable "core.autocrlf" without changing any attributes.
	#
	# This does not force normalization of all text files, but does ensure 
	# that text files that you introduce to the repository have their line 
	# endings normalized to LF when they are added, and that files that are 
	# already normalized in the repository stay normalized.
	autocrlf = input
	# use vim as editor
	editor = vim
	pager = !bash -lc '$(brew --prefix git)/share/git-core/contrib/diff-highlight/diff-highlight | strip-diff-leading-symbols | less -+$LESS -FRX' -
	# http://git-scm.com/docs/gitattributes#_end_of_line_conversion
	# If core.safecrlf is set to "true" or "warn", Git verifies if the 
	# conversion is reversible for the current setting of core.autocrlf. 
	# For "true", Git rejects irreversible conversions; for "warn", Git only 
	# prints a warning but accepts an irreversible conversion. The safety 
	# triggers to prevent such a conversion done to the files in the work 
	# tree, but there are a few exceptions. Even thoughâ€¦
	# dont irreversably perform CRLF conversion on a binary file
	safecrlf = true

[credential]
	# https://help.github.com/articles/set-up-git
	# password caching using the osx keychain
	helper = osxkeychain

[diff]
	tool = vimdiff

[diff "exif"]
	textconv = exiftool

[diff "spaceman-diff"]
	command = /usr/local/bin/spaceman-diff

[difftool]
	prompt = false

[difftool "Kaleidoscope"]
	cmd = ksdiff-wrapper git \"$LOCAL\" \"$REMOTE\"

[ghi]
	editor = vim

[ghi "highlight"]
	style = colorful

[init]
	templatedir = ~/.templates/hooks

[help]
	# suggests commands for spelling mistakes
	autocorrect = 1

[hub]
	protocol = https

[merge]
	# Include summaries of merged conflicts in newly created merge commit messages
	log = true
	tool = vimdiff
	summary = true

[pretty]
	# tut: http://gitimmersion.com/lab_10.html
	# ref: http://linux.die.net/man/1/git-log
	# Result: <short-sha> <commit-message> (<pointer-names>) -- <commit-author-name>; <relative-time>
	# http://git-scm.com/book/en/Git-Basics-Viewing-the-Commit-History
	# %b:+--body
	# %Cred:switch color to red
	# %Cgreen: switch color to green
	# %Cblue: switch color to blue
	# %Creset: reset color
	# %C(...): color specification, as described in color.branch.* config option
	# %d+---ref names, like the --decorate option of git-log(1)
	# %H+---Commit hash
	# %h+---Abbreviated commit hash
	# %f:+--sanitized subject line, suitable for a filename
	# %m:+--left, right or boundary mark
	# %N:+--commit notes
	# %n:+--newline
	# %P+---Parent hashes
	# %p+---Abbreviated parent hashes
	# %s+---Subject
	# %T+---Tree hash
	# %t+---Abbreviated tree hash
	# %w([<w>[,<i1>[,<i2>]]]): switch line wrapping, like the -w option of git-shortlog(1).
	# %an+--Author name
	# %ae+--Author e-mail
	# %ad+--Author date (format respects the --date= option)
	# %ar+--Author date, relative
	# %cn+--Committer name
	# %ce+--Committer email
	# %cd+--Committer date
	# %cr+--Committer date, relative
	# %%+---:a raw %
	# %x00:+print a byte from a hex code
	nice = "%C(209)%an%C(reset)@%C(yellow)%h%C(reset) said '%C(white bold)%s%C(reset)' about %C(cyan)%ar%C(reset)%C(magenta)%d%C(reset)"

[pull]
	rebase = true

[push]
	default = matching
	# https://github.com/git/git/commit/a8bc269f11b34e60f5fdbd8e831a654dd6b6b67e
	# push annotated tags that are missing to remote
	followTags = true

# http://git-scm.com/blog/2010/03/08/rerere.html
# reuse the recorded resolutions
[rerere]
	enabled = 1

[status]
	# always show the full path
	relativePaths = false
